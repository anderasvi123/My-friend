local function addHighlight(character)
    if character:FindFirstChild("PlayerHighlight") then
        return
    end

    local highlight = Instance.new("Highlight")
    highlight.Name = "PlayerHighlight"
    highlight.FillColor = Color3.new(0, 1, 0) -- Green fill
    highlight.OutlineColor = Color3.new(1, 1, 1) -- White outline
    highlight.Adornee = character -- Attach to the character model
    highlight.Parent = character
end

game.Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        if character.Parent == nil then
            character.AncestryChanged:Wait()
        end
        addHighlight(character)
    end)
end)

for _, player in pairs(game.Players:GetPlayers()) do
    if player.Character then
        addHighlight(player.Character)
    end
end
